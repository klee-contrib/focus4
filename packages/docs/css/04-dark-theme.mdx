import {Meta} from "@storybook/blocks";

<Meta title="CSS/Mode sombre" />

# Mode sombre

Focus int√®gre par d√©faut un **mode sombre** (qui est d'ailleurs branch√© avec le mode sombre de la doc üòâ).

Il s'active avec la m√©thode `initColorScheme()`, que vous pouvez appeler √† l'initialisation de votre application. Cela enregistrera une cl√© dans le local storage de l'utilisateur avec le th√®me choisi (`light` ou `dark`). Par d√©faut, elle prendra le th√®me du navigateur de l'utilisateur, mais peut √™tre forc√© au th√®me clair avec `initColorScheme(true)`.

Vous pouvez ensuite changer le th√®me en modifiant la valeur de `colorScheme.dark` (`true` ou `false`), que vous pouvez brancher sur un [`Switch`](/docs/composants-focus4‚àïtoolbox-switch--docs) par exemple.

Le mode sombre va ajouter l'attribut `dark=true` √† la balise `<html>`, ce qui vous permettra d'utiliser le s√©lecteur `:root[dark]` pour contr√¥ler le rendu CSS en th√®me sombre. **Il est √©videmment tr√®s recommand√© de n'agir sur sur des variables CSS de couleurs avec le th√®me sombre**. C'est l'une des raisons principales (hormis la maintenabilit√©...) d'utiliser le plus de variables possibles dans votre code.

## Impl√©mentation dans Focus

En plus de red√©finir quelques couleurs explicitement dans quelques composants, le th√®me sombre :

-   Pose un `color-scheme: dark` pour demander au navigateur d'afficher des √©l√©ments d'UI en th√®me sombre (par exemple les scrollbars).
-   Inverse la valeur de `--color-black` et `--color-white` (enfin pas tout √† fait, `--color-white` est en fait `11, 11, 11`...)
-   Red√©finit les valeurs des diff√©rentes `--palette-grey-XXX` pour √™tre du plus fonc√© au plus clair (la correspondance n'est pas exacte √† cause du noir qui n'est pas 100% noir).
-   R√©d√©finit `--color-primary`, `--color-primary-light` et `--color-accent` dans des couleurs qui passent mieux sur du noir. En g√©n√©ral, si vos couleurs sont vives, il faut des couleurs moins vives, et inversement. Evidemment, si vous surchargez ces couleurs dans votre application (ce qui devrait toujours √™tre le cas), alors ces surcharges ne vous conviendront pas et il vous faudra les remplacer aussi.

Ces variables sont bien √©videmment red√©finies avec le s√©lecteur `:root[dark]`.
